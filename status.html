
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Status Messages Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.2">
        
        
        
    
    <link rel="stylesheet" href="gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="status.html" />
    
    
    <link rel="prev" href="messages.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./#the-buttplug-sex-toy-control-standard">
            
                    
                    The Buttplug Sex Toy Control Standard
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.1" data-path="./">
            
                <a href="./#the-need-for-a-sex-toy-control-standard">
            
                    
                    The Need for a Sex Toy Control Standard
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.2" data-path="./">
            
                <a href="./#generalized-control">
            
                    
                    Generalized Control
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.3" data-path="./">
            
                <a href="./#comparisons-to-existing-software">
            
                    
                    Comparisons to Existing Software
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.4" data-path="./">
            
                <a href="./#why-is-it-called-buttplug">
            
                    
                    Why is it called Buttplug?
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="architecture.html">
            
                <a href="architecture.html#architecture">
            
                    
                    Architecture
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="architecture.html">
            
                <a href="architecture.html#implementation-types">
            
                    
                    Implementation Types
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1.1" data-path="architecture.html">
            
                <a href="architecture.html#libraries">
            
                    
                    Libraries
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.2" data-path="architecture.html">
            
                <a href="architecture.html#servers">
            
                    
                    Servers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.1.3" data-path="architecture.html">
            
                <a href="architecture.html#applications-aka-clients">
            
                    
                    Applications (aka Clients)
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="architecture.html">
            
                <a href="architecture.html#protocol">
            
                    
                    Protocol
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="architecture.html">
            
                <a href="architecture.html#stages">
            
                    
                    Stages
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.3.1" data-path="architecture.html">
            
                <a href="architecture.html#identification">
            
                    
                    Identification
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.2" data-path="architecture.html">
            
                <a href="architecture.html#enumeration">
            
                    
                    Enumeration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.3" data-path="architecture.html">
            
                <a href="architecture.html#consummation">
            
                    
                    Consummation
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="usages.html">
            
                <a href="usages.html#usage-examples">
            
                    
                    Usage Examples
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="usages.html">
            
                <a href="usages.html#library-embedded-in-a-video-game">
            
                    
                    Library Embedded in a Video Game
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="usages.html">
            
                <a href="usages.html#web-based-hardware-synced-movie-player">
            
                    
                    Web Based Hardware Synced Movie Player
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="messages.html">
            
                <a href="messages.html#messages">
            
                    
                    Messages
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1" data-path="messages.html">
            
                <a href="messages.html#basic-message-structure">
            
                    
                    Basic Message Structure
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2" data-path="messages.html">
            
                <a href="messages.html#message-flow">
            
                    
                    Message Flow
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3" data-path="messages.html">
            
                <a href="messages.html#a-note-on-scaling">
            
                    
                    A Note On Scaling
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.4" data-path="messages.html">
            
                <a href="messages.html#json-message-serialization">
            
                    
                    JSON Message Serialization
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.5" data-path="messages.html">
            
                <a href="messages.html#adding-new-messages">
            
                    
                    Adding New Messages
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.6" data-path="messages.html">
            
                <a href="messages.html#message-description-template">
            
                    
                    Message Description Template
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="status.html">
            
                <a href="status.html#status-messages">
            
                    
                    Status Messages
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.2.1" data-path="status.html">
            
                <a href="status.html#ok">
            
                    
                    Ok
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.2" data-path="status.html">
            
                <a href="status.html#error">
            
                    
                    Error
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.3" data-path="status.html">
            
                <a href="status.html#ping">
            
                    
                    Ping
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.4" data-path="status.html">
            
                <a href="status.html#request-log">
            
                    
                    RequestLog
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.5" data-path="status.html">
            
                <a href="status.html#log">
            
                    
                    Log
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="identification.html">
            
                <a href="identification.html#identification-messages">
            
                    
                    Identification Messages
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.3.1" data-path="identification.html">
            
                <a href="identification.html#request-server-info">
            
                    
                    RequestServerInfo
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.2" data-path="identification.html">
            
                <a href="identification.html#server-info">
            
                    
                    ServerInfo
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="enumeration.html">
            
                <a href="enumeration.html#enumeration-messages">
            
                    
                    Enumeration Messages
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.4.1" data-path="enumeration.html">
            
                <a href="enumeration.html#start-scanning">
            
                    
                    StartScanning
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.2" data-path="enumeration.html">
            
                <a href="enumeration.html#stop-scanning">
            
                    
                    StopScanning
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.3" data-path="enumeration.html">
            
                <a href="enumeration.html#scanning-finished">
            
                    
                    ScanningFinished
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.4" data-path="enumeration.html">
            
                <a href="enumeration.html#request-device-list">
            
                    
                    RequestDeviceList
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.5" data-path="enumeration.html">
            
                <a href="enumeration.html#device-list">
            
                    
                    DeviceList
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.6" data-path="enumeration.html">
            
                <a href="enumeration.html#device-added">
            
                    
                    DeviceAdded
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.7" data-path="enumeration.html">
            
                <a href="enumeration.html#device-removed">
            
                    
                    DeviceRemoved
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.8" data-path="enumeration.html">
            
                <a href="enumeration.html#stop-device">
            
                    
                    StopDevice
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.9" data-path="enumeration.html">
            
                <a href="enumeration.html#stop-all-devices">
            
                    
                    StopAllDevices
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="generic.html">
            
                <a href="generic.html#generic-device-messages">
            
                    
                    Generic Device Messages
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.5.1" data-path="generic.html">
            
                <a href="generic.html#single-motor-vibrate-cmd">
            
                    
                    SingleMotorVibrateCmd
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5.2" data-path="generic.html">
            
                <a href="generic.html#raw-cmd">
            
                    
                    RawCmd
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.6" data-path="specific.html">
            
                <a href="specific.html#specific-device-messages">
            
                    
                    Specific Device Messages
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.6.1" data-path="specific.html">
            
                <a href="specific.html#kiiro-cmd">
            
                    
                    KiiroCmd
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.6.2" data-path="specific.html">
            
                <a href="specific.html#fleshlight-launch-f-w12cmd">
            
                    
                    FleshlightLaunchFW12Cmd
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.6.3" data-path="specific.html">
            
                <a href="specific.html#lovense-cmd">
            
                    
                    LovenseCmd
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.7" data-path="jsonschema.html">
            
                <a href="jsonschema.html#message-json-schema">
            
                    
                    Message JSON Schema
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >Status Messages</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="status-messages">Status Messages</h1>
<h2 id="ok">Ok</h2>
<p><strong>Description:</strong> Signifies that the previous message sent by the client was received and processed successfully by the server.</p>
<p><strong>Fields:</strong></p>
<ul>
<li><em>Id</em> (unsigned int): The Id of the client message that this reply is in response to.</li>
</ul>
<p><strong>Expected Response:</strong></p>
<p>None. Server-to-Client message only.</p>
<p><strong>Flow Diagram:</strong></p>
<p><img src="ok_diagram.svg" alt="img"></p>
<p><strong>Serialization Example:</strong></p>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;Ok&quot;</span>: {
    <span class="hljs-string">&quot;Id&quot;</span>: <span class="hljs-number">1</span>
  }
}
</code></pre>
<h2 id="error">Error</h2>
<p><strong>Description:</strong> Signifies that the previous message sent by the client caused some sort of parsing or processing error on the server.</p>
<p><strong>Fields:</strong></p>
<ul>
<li><em>Id</em> (unsigned int): The Id of the client message that this reply is in response to, assuming the Id could be parsed. Id will be 0 if message could not be parsed (due to issues like invalid JSON).</li>
<li><em>ErrorMessage</em> (string): Message describing the error that happened on the server.</li>
</ul>
<p><strong>Expected Response:</strong></p>
<p>None. Server-to-Client message only.</p>
<p><strong>Flow Diagram:</strong></p>
<p><img src="error_diagram.svg" alt="img"></p>
<p><img src="error_malformed_diagram.svg" alt="img"></p>
<p><strong>Serialization Example:</strong></p>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;Error&quot;</span>: {
    <span class="hljs-string">&quot;Id&quot;</span>: <span class="hljs-number">0</span>,
    <span class="hljs-string">&quot;ErrorMessage&quot;</span>: <span class="hljs-string">&quot;Server received invalid JSON.&quot;</span>
  }
}
</code></pre>
<h2 id="ping">Ping</h2>
<p><strong>Description:</strong> Ping acts a watchdog between the client and the server. The server will expect the client to send a ping message at a certain interval (interval will be sent to the client as part of the identification step). If the client fails to ping within the specified time, the server will disconnect and stop all currently connected devices.</p>
<p>This will handle cases like the client crashing without a proper disconnect. This is not a guaranteed global failsafe, since it will not guard against problems like a client UI thread locking up while a client communication thread continues to work.</p>
<p><strong>Fields:</strong></p>
<ul>
<li><em>Id</em> (unsigned int): Message Id</li>
</ul>
<p><strong>Expected Response:</strong></p>
<ul>
<li>Ok message with matching Id on successful logging request.</li>
<li>Error message on value or message error.</li>
</ul>
<p><strong>Flow Diagram:</strong></p>
<p><img src="ping_diagram.svg" alt="img"></p>
<p><strong>Serialization Example:</strong></p>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;Ping&quot;</span>: {
    <span class="hljs-string">&quot;Id&quot;</span>: <span class="hljs-number">5</span>
  }
}
</code></pre>
<h2 id="requestlog">RequestLog</h2>
<p><strong>Description:</strong> Requests that the server send all internal log messages to the client. Useful for debugging.</p>
<p><strong>Fields:</strong></p>
<ul>
<li><em>Id</em> (unsigned int): Message Id</li>
<li><em>LogLevel</em> (string): The highest level of message to receive. Sending &quot;Off&quot; turns off messages, while sending &quot;Trace&quot; denotes that all log messages should be sent to the client. Valid LogLevel values:<ul>
<li>Off</li>
<li>Fatal</li>
<li>Error</li>
<li>Warn</li>
<li>Info</li>
<li>Debug</li>
<li>Trace</li>
</ul>
</li>
</ul>
<p><strong>Expected Response:</strong></p>
<ul>
<li>Ok message with matching Id on successful logging request. Assuming the LogLevel was not &quot;Off&quot;, Log type messages will be received after this.</li>
<li>Error message on value or message error.</li>
</ul>
<p><strong>Flow Diagram:</strong></p>
<p><img src="requestlog_diagram.svg" alt="img"></p>
<p><strong>Serialization Example:</strong></p>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;RequestLog&quot;</span>: {
    <span class="hljs-string">&quot;Id&quot;</span>: <span class="hljs-number">1</span>,
    <span class="hljs-string">&quot;LogLevel&quot;</span>: <span class="hljs-string">&quot;Warn&quot;</span>
  }
}
</code></pre>
<h2 id="log">Log</h2>
<p><strong>Description:</strong> Log message from the server. Only sent after the client has sent a RequestLog message with a level other than &quot;Off&quot;.</p>
<p><strong>Fields:</strong></p>
<ul>
<li><em>Id</em> (unsigned int): Message Id</li>
<li><em>LogLevel</em> (string): The level of the log message.<ul>
<li>Off</li>
<li>Fatal</li>
<li>Error</li>
<li>Warn</li>
<li>Info</li>
<li>Debug</li>
<li>Trace</li>
</ul>
</li>
<li><em>LogMessage</em> (string): Log message.</li>
</ul>
<p><strong>Expected Response:</strong></p>
<p>None. Server-to-Client message only.</p>
<p><strong>Flow Diagram:</strong></p>
<p><img src="log_diagram.svg" alt="img"></p>
<p><strong>Serialization Example:</strong></p>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;RequestLog&quot;</span>: {
    <span class="hljs-string">&quot;Id&quot;</span>: <span class="hljs-number">1</span>,
    <span class="hljs-string">&quot;LogLevel&quot;</span>: <span class="hljs-string">&quot;Warn&quot;</span>
  }
}
</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="messages.html#message-description-template" class="navigation navigation-prev " aria-label="Previous page: Message Description Template">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="status.html#ok" class="navigation navigation-next " aria-label="Next page: Ok">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Status Messages","level":"2.2","depth":1,"next":{"title":"Ok","level":"2.2.1","depth":2,"anchor":"#ok","path":"status.md","ref":"status.md#ok","articles":[]},"previous":{"title":"Message Description Template","level":"2.1.6","depth":2,"anchor":"#message-description-template","path":"messages.md","ref":"messages.md#message-description-template","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["livereload"],"pluginsConfig":{"livereload":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"status.md","mtime":"2017-06-07T06:06:47.524Z","type":"markdown"},"gitbook":{"version":"3.2.2","time":"2017-06-07T06:06:53.471Z"},"basePath":".","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="gitbook/gitbook.js"></script>
    <script src="gitbook/theme.js"></script>
    
        
        <script src="gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

