
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Enumeration Messages Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.2">
        
        
        
    
    <link rel="stylesheet" href="gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="enumeration.html" />
    
    
    <link rel="prev" href="identification.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./#the-buttplug-sex-toy-control-standard">
            
                    
                    The Buttplug Sex Toy Control Standard
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.1" data-path="./">
            
                <a href="./#the-need-for-a-sex-toy-control-standard">
            
                    
                    The Need for a Sex Toy Control Standard
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.2" data-path="./">
            
                <a href="./#generalized-control">
            
                    
                    Generalized Control
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.3" data-path="./">
            
                <a href="./#comparisons-to-existing-software">
            
                    
                    Comparisons to Existing Software
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.4" data-path="./">
            
                <a href="./#why-is-it-called-buttplug">
            
                    
                    Why is it called Buttplug?
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="architecture.html">
            
                <a href="architecture.html#architecture">
            
                    
                    Architecture
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="architecture.html">
            
                <a href="architecture.html#protocol">
            
                    
                    Protocol
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="architecture.html">
            
                <a href="architecture.html#stages">
            
                    
                    Stages
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.2.1" data-path="architecture.html">
            
                <a href="architecture.html#identification">
            
                    
                    Identification
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.2" data-path="architecture.html">
            
                <a href="architecture.html#enumeration">
            
                    
                    Enumeration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.3" data-path="architecture.html">
            
                <a href="architecture.html#consummation">
            
                    
                    Consummation
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="messages.html">
            
                <a href="messages.html#messages">
            
                    
                    Messages
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1" data-path="messages.html">
            
                <a href="messages.html#basic-message-structure">
            
                    
                    Basic Message Structure
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2" data-path="messages.html">
            
                <a href="messages.html#message-flow">
            
                    
                    Message Flow
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3" data-path="messages.html">
            
                <a href="messages.html#a-note-on-scaling">
            
                    
                    A Note On Scaling
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.4" data-path="messages.html">
            
                <a href="messages.html#json-message-serialization">
            
                    
                    JSON Message Serialization
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.5" data-path="messages.html">
            
                <a href="messages.html#adding-new-messages">
            
                    
                    Adding New Messages
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="status.html">
            
                <a href="status.html#status-messages">
            
                    
                    Status Messages
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.2.1" data-path="status.html">
            
                <a href="status.html#ok">
            
                    
                    Ok
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.2" data-path="status.html">
            
                <a href="status.html#error">
            
                    
                    Error
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.3" data-path="status.html">
            
                <a href="status.html#ping">
            
                    
                    Ping
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.4" data-path="status.html">
            
                <a href="status.html#request-log">
            
                    
                    RequestLog
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.5" data-path="status.html">
            
                <a href="status.html#log">
            
                    
                    Log
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="identification.html">
            
                <a href="identification.html#identification-messages">
            
                    
                    Identification Messages
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.3.1" data-path="identification.html">
            
                <a href="identification.html#request-server-info">
            
                    
                    RequestServerInfo
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.2" data-path="identification.html">
            
                <a href="identification.html#server-info">
            
                    
                    ServerInfo
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="enumeration.html">
            
                <a href="enumeration.html#enumeration-messages">
            
                    
                    Enumeration Messages
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.4.1" data-path="enumeration.html">
            
                <a href="enumeration.html#start-scanning">
            
                    
                    StartScanning
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.2" data-path="enumeration.html">
            
                <a href="enumeration.html#stop-scanning">
            
                    
                    StopScanning
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.3" data-path="enumeration.html">
            
                <a href="enumeration.html#scanning-finished">
            
                    
                    ScanningFinished
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.4" data-path="enumeration.html">
            
                <a href="enumeration.html#request-device-list">
            
                    
                    RequestDeviceList
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.5" data-path="enumeration.html">
            
                <a href="enumeration.html#device-list">
            
                    
                    DeviceList
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.6" data-path="enumeration.html">
            
                <a href="enumeration.html#device-added">
            
                    
                    DeviceAdded
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.7" data-path="enumeration.html">
            
                <a href="enumeration.html#device-removed">
            
                    
                    DeviceRemoved
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="generic.html">
            
                <a href="generic.html#generic-device-messages">
            
                    
                    Generic Device Messages
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.5.1" data-path="generic.html">
            
                <a href="generic.html#stop-device-cmd">
            
                    
                    StopDeviceCmd
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5.2" data-path="generic.html">
            
                <a href="generic.html#stop-all-devices">
            
                    
                    StopAllDevices
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5.3" data-path="generic.html">
            
                <a href="generic.html#raw-cmd">
            
                    
                    RawCmd
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5.4" data-path="generic.html">
            
                <a href="generic.html#single-motor-vibrate-cmd">
            
                    
                    SingleMotorVibrateCmd
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.6" data-path="specific.html">
            
                <a href="specific.html#specific-device-messages">
            
                    
                    Specific Device Messages
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.6.1" data-path="specific.html">
            
                <a href="specific.html#kiiroo-cmd">
            
                    
                    KiirooCmd
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.6.2" data-path="specific.html">
            
                <a href="specific.html#fleshlight-launch-f-w12cmd">
            
                    
                    FleshlightLaunchFW12Cmd
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.6.3" data-path="specific.html">
            
                <a href="specific.html#lovense-cmd">
            
                    
                    LovenseCmd
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="jsonschema.html">
            
                <a href="jsonschema.html#message-json-schema">
            
                    
                    Message JSON Schema
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >Enumeration Messages</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="enumeration-messages">Enumeration Messages</h1>
<h2 id="startscanning">StartScanning</h2>
<p><strong>Description:</strong> Client request to have the server start scanning for devices on all busses that it knows about. Useful for protocols like Bluetooth, which require an explicit discovery phase.</p>
<p><strong>Fields:</strong></p>
<ul>
<li><em>Id</em> (unsigned int): Message Id</li>
</ul>
<p><strong>Expected Response:</strong></p>
<ul>
<li>Ok message with matching Id on successful request.</li>
<li>Error message on value or message error.</li>
</ul>
<p><strong>Flow Diagram:</strong></p>
<p><img src="startscanning_diagram.svg" alt="img"></p>
<p><strong>Serialization Example:</strong></p>
<pre><code class="lang-json">[
  {
    <span class="hljs-string">&quot;StartScanning&quot;</span>: {
      <span class="hljs-string">&quot;Id&quot;</span>: <span class="hljs-number">1</span>
    }
  }
]
</code></pre>
<h2 id="stopscanning">StopScanning</h2>
<p><strong>Description:</strong> Client request to have the server stop scanning for devices. Useful for protocols like Bluetooth, which may not timeout otherwise.</p>
<p><strong>Fields:</strong></p>
<ul>
<li><em>Id</em> (unsigned int): Message Id</li>
</ul>
<p><strong>Expected Response:</strong></p>
<ul>
<li>Ok message with matching Id on successful request.</li>
<li>Error message on value or message error.</li>
</ul>
<p><strong>Flow Diagram:</strong></p>
<p><img src="stopscanning_diagram.svg" alt="img"></p>
<p><strong>Serialization Example:</strong></p>
<pre><code class="lang-json">[
  {
    <span class="hljs-string">&quot;StopScanning&quot;</span>: {
      <span class="hljs-string">&quot;Id&quot;</span>: <span class="hljs-number">1</span>
    }
  }
]
</code></pre>
<h2 id="scanningfinished">ScanningFinished</h2>
<p><strong>Description:</strong> Sent by the server once it has stopped scanning on all busses. Since systems may have timeouts that are not controlled by the server, this is a separate message from the StopScanning flow. ScanningFinished can happen without a StopScanning call.</p>
<p><strong>Fields:</strong></p>
<ul>
<li><em>Id</em> (unsigned int): Message Id</li>
</ul>
<p><strong>Expected Response:</strong></p>
<p>None. Server-to-Client only.</p>
<p><strong>Flow Diagram:</strong></p>
<p><img src="scanningfinished_diagram.svg" alt="img"></p>
<p><strong>Serialization Example:</strong></p>
<pre><code class="lang-json">[
  {
    <span class="hljs-string">&quot;ScanningFinished&quot;</span>: {
      <span class="hljs-string">&quot;Id&quot;</span>: <span class="hljs-number">0</span>
    }
  }
]
</code></pre>
<h2 id="requestdevicelist">RequestDeviceList</h2>
<p><strong>Description:</strong> Client request to have the server send over its known device list, without starting a full scan.</p>
<p><strong>Fields:</strong></p>
<ul>
<li><em>Id</em> (unsigned int): Message Id</li>
</ul>
<p><strong>Expected Response:</strong></p>
<ul>
<li>DeviceList message with matching Id on successful request.</li>
<li>Error message on value or message error.</li>
</ul>
<p><strong>Flow Diagram:</strong></p>
<p><img src="requestdevicelist_diagram.svg" alt="img"></p>
<p><strong>Serialization Example:</strong></p>
<pre><code class="lang-json">[
  {
    <span class="hljs-string">&quot;RequestDeviceList&quot;</span>: {
      <span class="hljs-string">&quot;Id&quot;</span>: <span class="hljs-number">1</span>
    }
  }
]
</code></pre>
<h2 id="devicelist">DeviceList</h2>
<p><strong>Description:</strong> Server reply to a client request for a device list.</p>
<p><strong>Fields:</strong></p>
<ul>
<li><em>Id</em> (unsigned int): Message Id</li>
<li><em>Devices</em> (array): Array of device objects<ul>
<li><em>DeviceName</em> (string): Descriptive name of the device</li>
<li><em>DeviceIndex</em> (unsigned integer): Index used to identify the device when sending Device Messages.</li>
<li><em>DeviceMessages</em> (array of strings): Type names of Device Messages that the device will accept.</li>
</ul>
</li>
</ul>
<p><strong>Expected Response:</strong></p>
<p>None. Server-to-Client message only.</p>
<p><strong>Flow Diagram:</strong></p>
<p><img src="devicelist_diagram.svg" alt="img"></p>
<p><strong>Serialization Example:</strong></p>
<pre><code class="lang-json">[
  {
    <span class="hljs-string">&quot;DeviceList&quot;</span>: {
      <span class="hljs-string">&quot;Id&quot;</span>: <span class="hljs-number">1</span>,
      <span class="hljs-string">&quot;Devices&quot;</span>: [
        {
          <span class="hljs-string">&quot;DeviceName&quot;</span>: <span class="hljs-string">&quot;TestDevice 1&quot;</span>,
          <span class="hljs-string">&quot;DeviceIndex&quot;</span>: <span class="hljs-number">0</span>,
          <span class="hljs-string">&quot;DeviceMessages&quot;</span>: [<span class="hljs-string">&quot;SingleMotorVibrateCmd&quot;</span>, <span class="hljs-string">&quot;RawCmd&quot;</span>, <span class="hljs-string">&quot;KiirooCmd&quot;</span>, <span class="hljs-string">&quot;StopDeviceCmd&quot;</span>]
        },
        {
          <span class="hljs-string">&quot;DeviceName&quot;</span>: <span class="hljs-string">&quot;TestDevice 2&quot;</span>,
          <span class="hljs-string">&quot;DeviceIndex&quot;</span>: <span class="hljs-number">1</span>,
          <span class="hljs-string">&quot;DeviceMessages&quot;</span>: [<span class="hljs-string">&quot;SingleMotorVibrateCmd&quot;</span>, <span class="hljs-string">&quot;LovenseCmd&quot;</span>, <span class="hljs-string">&quot;StopDeviceCmd&quot;</span>]
        }
      ]
    }
  }
]
</code></pre>
<h2 id="deviceadded">DeviceAdded</h2>
<p><strong>Description:</strong> Sent by the server whenever a device is added to the system. Can happen at any time after identification, as it is assumed many server implementations will support devices with hotplugging capabilities that do not require specific scanning/discovery sessions.</p>
<p><strong>Fields:</strong></p>
<ul>
<li><em>Id</em> (unsigned int): Message Id</li>
<li><em>DeviceName</em> (string): Descriptive name of the device</li>
<li><em>DeviceIndex</em> (unsigned integer): Index used to identify the device when sending Device Messages.</li>
<li><em>DeviceMessages</em> (array of strings): Type names of Device Messages that the device will accept.</li>
</ul>
<p><strong>Expected Response:</strong></p>
<p>None. Server-to-Client message only.</p>
<p><strong>Flow Diagram:</strong></p>
<p><img src="deviceadded_diagram.svg" alt="img"></p>
<p><strong>Serialization Example:</strong></p>
<pre><code class="lang-json">[
  {
    <span class="hljs-string">&quot;DeviceAdded&quot;</span>: {
      <span class="hljs-string">&quot;Id&quot;</span>: <span class="hljs-number">0</span>,
      <span class="hljs-string">&quot;DeviceName&quot;</span>: <span class="hljs-string">&quot;TestDevice 1&quot;</span>,
      <span class="hljs-string">&quot;DeviceIndex&quot;</span>: <span class="hljs-number">0</span>,
      <span class="hljs-string">&quot;DeviceMessages&quot;</span>: [<span class="hljs-string">&quot;SingleMotorVibrateCmd&quot;</span>, <span class="hljs-string">&quot;RawCmd&quot;</span>, <span class="hljs-string">&quot;KiirooCmd&quot;</span>, <span class="hljs-string">&quot;StopDeviceCmd&quot;</span>]
    }
  }
]
</code></pre>
<h2 id="deviceremoved">DeviceRemoved</h2>
<p><strong>Description:</strong> Sent by the server whenever a device is removed from the system. Can happen at any time after identification.</p>
<p><strong>Fields:</strong></p>
<ul>
<li><em>Id</em> (unsigned int): Message Id</li>
<li><em>DeviceIndex</em> (unsigned integer): Index used to identify the device when sending Device Messages.</li>
</ul>
<p><strong>Expected Response:</strong></p>
<p>None. Server-to-Client message only.</p>
<p><strong>Flow Diagram:</strong></p>
<p><img src="deviceremoved_diagram.svg" alt="img"></p>
<p><strong>Serialization Example:</strong></p>
<pre><code class="lang-json">[
  {
    <span class="hljs-string">&quot;DeviceRemoved&quot;</span>: {
      <span class="hljs-string">&quot;Id&quot;</span>: <span class="hljs-number">0</span>,
      <span class="hljs-string">&quot;DeviceIndex&quot;</span>: <span class="hljs-number">0</span>
    }
  }
]
</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="identification.html#server-info" class="navigation navigation-prev " aria-label="Previous page: ServerInfo">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="enumeration.html#start-scanning" class="navigation navigation-next " aria-label="Next page: StartScanning">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Enumeration Messages","level":"2.4","depth":1,"next":{"title":"StartScanning","level":"2.4.1","depth":2,"anchor":"#start-scanning","path":"enumeration.md","ref":"enumeration.md#start-scanning","articles":[]},"previous":{"title":"ServerInfo","level":"2.3.2","depth":2,"anchor":"#server-info","path":"identification.md","ref":"identification.md#server-info","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":[],"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"enumeration.md","mtime":"2017-06-09T23:40:04.567Z","type":"markdown"},"gitbook":{"version":"3.2.2","time":"2017-06-09T23:40:28.282Z"},"basePath":".","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="gitbook/gitbook.js"></script>
    <script src="gitbook/theme.js"></script>
    
        
        <script src="gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

